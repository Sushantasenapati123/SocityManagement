@model Bank.Domain.AccountOpening.AccountopeningEntity
@addTagHelper*, Microsoft.AspNetCore.Mvc.TagHelpers
@{
    //ViewData["Title"] = "RoleView";
    Layout = "~/Views/Shared/dynamicLayoutManager.cshtml";
}


<head>

    <script src="~/js/bootbox.js"></script>


    @*<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@7.12.15/dist/sweetalert2.all.min.js"></script>*@



    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        #Nominee1 {
            background-color: lightgoldenrodyellow;
        }

        #Nominee2 {
            background-color: lightgray;
        }

        body {
            font-family: Arial;
        }

        /* Style the tab */
        .tab {
            overflow: hidden;
            border: 1px solid #ccc;
            background-color: #f1f1f1;
        }

            /* Style the buttons inside the tab */
            .tab button {
                background-color:;
                float: left;
                border: none;
                outline: none;
                cursor: pointer;
                padding: 14px 16px;
                transition: 0.3s;
                font-size: 17px;
            }

                /* Change background color of buttons on hover */
                .tab button:hover {
                    background-color: #ddd;
                }

                /* Create an active/current tablink class */
                .tab button.active {
                    background-color: #ccc;
                }

        /* Style the tab content */
        .tabcontent {
            display: none;
            padding: 6px 12px;
            border: 1px solid #ccc;
            border-top: none;
        }

        table td {
            border: 1px solid black;
            padding: 4px 12px;
        }
    </style>
</head>


<style type="text/css">
    .drpdown {
        width: 150px;
    }

    /*.container {
        padding: 50px;
    }*/

    input[type=reset] {
        background-color: red;
        color: white;
        padding: 12px 20px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        align-content: center;
    }
</style>

<body>
    <div class="page-title">
        <div class="title-details">
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><span class="icon-home1"></span></li>
                    <li class="breadcrumb-item">Society Management</li>
                    <li class="breadcrumb-item active" aria-current="page"><b>A/C Opening</b></li>
                </ol>
            </nav>
        </div>
    </div>
    <div class="row">

        <div class="container">
            <div>
                <div class="card">
                    <div class="card-header">
                        <ul class="nav nav-tabs nav-fill" role="tablist">
                            <a class="nav-item nav-link active" asp-controller="AccountOpening" asp-action="insertpage" data-toggle="tooltip" id="SchemeExcalAdd">
                                Details
                            </a>



                        </ul>
                        <div class="indicatorslist">
                            <p class="text-danger">(*) Indicates mandatory </p>
                        </div>

                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="form-group col-md-4">
                                <label class="badge-light">Head of Account<span class="text-danger">*</span></label>
                                <input type="text" class="form-control" id="Openingdetails_id" hidden />
                                <input type="text" class="form-control" id="HeadOfAccount" readonly />


                            </div>
                            <div class="form-group col-md-2">
                                <label class="badge-light">Customer Code<span class="text-danger">*</span></label>
                                <input type="text" class="form-control" id="Customer_Code" readonly />
                            </div>
                            <div class="form-group col-md-2">
                                <label class="badge-light">Rate Of Intrest<span class="text-danger">*</span></label>
                                <input type="number" class="form-control" id="intrest" />
                            </div>
                            <div class="form-group col-md-4">
                                <label class="badge-light">Senior Citizen?<span class="text-danger">*</span></label>
                                <select class="form-control" id="Seniorcitizen" disabled>
                                    <option value="No">N</option>
                                    <option value="Yes">Y</option>
                                </select>
                            </div>
                        </div>
                        <div class="row">
                            <div class="form-group col-md-4">
                                <label class="badge-light">Customer Name<span class="text-danger">*</span></label>
                                <input type="text" class="form-control" id="customername" placeholder="Please Enter Customer " readonly />
                            </div>
                            <div class="form-group col-md-4">
                                <label class="badge-light">Certificate No.<span class="text-danger">*</span></label>
                                <input type="text" id="Certificateno" class="form-control" placeholder="Enter Here.." readonly />
                            </div>
                            <div class="form-group col-md-4">
                                <label class="badge-light">Staff?<span class="text-danger">*</span></label>
                                <select class="form-control" id="staff" disabled>
                                    <option value="No">N</option>
                                    <option value="Yes">Y</option>
                                </select>
                            </div>
                        </div>
                        <div class="row">
                            <div class="form-group col-md-4">
                                <label class="badge-light">Account No.<span class="text-danger">*</span></label>
                                <input type="text" class="form-control" id="Accountno" placeholder="Enter Account No Here.." size="24" @*style="margin-left:30px"*@ readonly />
                            </div>
                            <div class="form-group col-md-4">
                                <label class="badge-light">sex<span class="text-danger">*</span></label>
                                <select id="Sex" class="form-control" @*style="width:280px"*@ disabled>
                                    <option value="Male">Male</option>
                                    <option value="Female">Female</option>
                                    <option value="Transgender">Other</option>
                                </select>
                            </div>
                            <div class="form-group col-md-4">
                                <label class="badge-light">Caste<span class="text-danger">*</span></label>
                                <select id="Caste" class="form-control" disabled>
                                    <option value="0">--Select One--</option>
                                    <option value="GEN">General</option>
                                    <option value="OBC">OBC</option>
                                    <option value="SC">SC</option>
                                    <option value="ST">ST</option>
                                    <option value="Other">SC</option>
                                </select>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-6">
                                <label class="badge-light">Present Address.<span class="text-danger">*</span></label>
                                <textarea class="form-control" id="Presentaddress" readonly name="w3review" rows="4" cols="50" placeholder="Present Address Enter Here......."></textarea>
                            </div>

                            <div class="col-6">
                                <label class="badge-light">Permanent  Address.<span class="text-danger">*</span></label>
                                <textarea class="form-control" readonly id="Permanentaddress" name="w3review" rows="4" cols="50" placeholder="Current Address Enter Here......."></textarea>

                            </div>
                        </div>
                        <div class="row">
                            <div class="col-3">
                                <label class="badge-light">Mode Of Operation<span class="text-danger">*</span></label>
                                <select style="width: 250px; margin-right: 0px" id="Modeofoperation" class="form-control">
                                    <option value="Self">Self</option>
                                    <option value="Other">Other</option>
                                    <option value="Self">jointly two</option>
                                    <option value="Other">jointly three</option>
                                </select>
                            </div>
                            <div class="col-3">
                                <label class="badge-light"> Deposite Amount <span class="text-danger">*</span></label>
                                <input type="number" id="Opening_Balance" placeholder="0" class="form-control" style="width:230px; margin-left:5px;" />
                            </div>
                            <div class="col-3">
                                <label class="badge-light"> From Date <span class="text-danger">*</span></label>
                                <input type="date" id="OpeningDATE" class="form-control" style="width: 230px; margin-left: 0px;" />@*//OpeningDATE*@
                            </div>
                            <div class="col-3">
                                <label class="badge-light"> To Date <span class="text-danger">*</span></label>
                                <input type="date" id="Minimum_Balance" class="form-control" style="width: 230px; margin-left: 5px" />
                            </div>

                        </div>



                        <div class="row">
                            <div class="col-md-6">
                                <table>
                                    <tr>
                                        <h3 style="font-display:block">Share Details...</h3>
                                    </tr>
                                    <tr>
                                        <td>
                                            <label class="badge-light">Face Value<span class="text-danger">*</span></label>
                                        </td>
                                        <td>
                                            <input type="text" id="Facevalue" class="form-control" placeholder="Enter your Face Value" />
                                        </td>
                                    </tr>
                                    @*<tr>
                                            <td>
                                                <label class="badge-light">No Of Unit(s)<span class="text-danger">*</span></label>
                                            </td>
                                            <td>
                                                <input type="text" id="NoUnint" class="form-control" placeholder="Enter your Unit..." />
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>
                                                <label class="badge-light">Entrance Fee<span class="text-danger">*</span></label>
                                            </td>
                                            <td>
                                                <input type="text" id="Enterancefee" class="form-control" placeholder="Enter your Fee" />
                                            </td>
                                        </tr>*@
                                    <!--<tr>
                                    <td>
                                        <label class="badge-light">Introducer(Customer) PresentAddress<span class="text-danger">*</span></label>
                                    </td>
                                    <td>
                                        <div>-->
                                    @*<input type="text" style="width:25px" id="Txtpresentaddpre" />*@
                                    <!--<input type="text" id="IntroducerPresentaddress" class="form-control" placeholder="Enter CustomeAddress" />
                                            </div>

                                        </td>
                                    </tr>-->

                                </table>
                            </div>
                            <div class="col-md-6">
                                <div class="tab">
                                    <button class="tablinks" onclick="openCity(event, 'Nominee1')">Nominee#1</button>
                                    <button class="tablinks" onclick="openCity(event, 'Nominee2')">Nominee#2</button>
                                    <button class="tablinks" onclick="openCity(event, 'Joint')">JointA/C Info.</button>
                                </div>
                                <div id="Nominee1" class="tabcontent">

                                    <table>
                                        <tr>
                                            <td>
                                                <label class="badge-light">Nominee Name<span class="text-danger">*</span></label>
                                            </td>
                                            <td>
                                                <input type="text" id="Nomineename1" class="form-control" placeholder="Enter Name...." />
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>
                                                <label class="badge-light">Relation With Nominee<span class="text-danger">*</span></label>
                                            </td>
                                            <td>
                                                <select class="form-control" id="Nomineerelation1">
                                                    <option value="Wife">Wife</option>
                                                    <option value="Husband">Husband</option>
                                                    <option value="Other">Other</option>
                                                </select>
                                            </td>
                                        <tr>
                                            <td>
                                                <label class="badge-light">Present address<span class="text-danger">*</span></label>
                                            </td>
                                            <td>
                                                <input type="text" class="form-control" placeholder="Enter address1.." id="Nomineeaddress1st1" />
                                            </td>
                                        </tr>
                                        <tr>
                                            <td></td>
                                            <td><input type="text" class="form-control" placeholder="Enter address2.." id="Nomineeaddress2nd1" /></td>

                                        </tr>
                                        <tr>
                                            <td></td>
                                            <td><input type="text" class="form-control" placeholder="Enter address3.." id="Nomineeaddress3rd1" /></td>
                                        </tr>
                                        <tr>
                                            <td>
                                                <label class="badge-light">Pin Code<span class="text-danger">*</span></label>
                                            </td>
                                            <td>
                                                <input type="text" class="form-control" placeholder="Enter Area Pin.." id="pincode1" />
                                            </td>
                                        </tr>
                                        <tr>

                                            <td><label class="badge-light">Contact No(s)<span class="text-danger">*</span></label></td>
                                            <td>
                                                <input type="text" class="form-control" placeholder="Enter Phone No1.." id="phone1" /><br />
                                            </td>
                                        </tr>
                                        <tr>
                                            <td><label class="badge-light">Alternative Phone No(s)<span class="text-danger">*</span></label></td>
                                            <td>
                                                <input type="text" class="form-control" placeholder="Enter Phone No2.." id="Altphone1" /><br />
                                            </td>

                                        </tr>
                                        @*<tr>
                                                <td><label class="badge-light">Minimum Balance<span class="text-danger">*</span></label></td>
                                                <td><input type="text" class="form-control" placeholder="Please Enter Balance...." id="Minimumbal1" /></td>
                                            </tr>*@
                                        <tr>
                                            <td><label class="badge-light">A/C Status<span class="text-danger">*</span></label></td>
                                            <td>
                                                <select class="form-control" id="Status1">
                                                    <option value="A">Active</option>
                                                    <option value="I">Inactive</option>

                                                </select>
                                            </td>
                                        </tr>
                                    </table>
                                </div>

                                <div id="Nominee2" class="tabcontent">
                                    <table>
                                        <tr>
                                            <td>
                                                <label class="badge-light">Nominee Name<span class="text-danger">*</span></label>
                                            </td>
                                            <td>
                                                <input type="text" class="form-control" placeholder="Enter Name...." id="Nomineename2" />
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>
                                                <label class="badge-light">Relation With Nominee<span class="text-danger">*</span></label>
                                            </td>
                                            <td>
                                                <select class="form-control" id="Nomineerelation2">
                                                    <option value="Wife">Wife</option>
                                                    <option value="Husband">Husband</option>
                                                    <option value="Other">Other</option>
                                                </select>
                                            </td>
                                        <tr>
                                            <td>
                                                <label class="badge-light">Present address<span class="text-danger">*</span></label>
                                            </td>
                                            <td>
                                                <input type="text" class="form-control" placeholder="Enter address1.." id="Nomineeaddress1st2" />
                                            </td>
                                        </tr>
                                        <tr>
                                            <td><input type="text" class="form-control" placeholder="Enter address2.." id="Nomineeaddress2nd2" /></td>
                                            <td><input type="text" class="form-control" placeholder="Enter address3.." id="Nomineeaddress3rd2" /></td>
                                        </tr>
                                        <tr>
                                            <td>
                                                <label class="badge-light">Pin Code<span class="text-danger">*</span></label>
                                            </td>
                                            <td>
                                                <input type="text" class="form-control" placeholder="Enter Area Pin.." id="pincode2" />
                                            </td>
                                        </tr>

                                        <tr>

                                            <td><label class="badge-light">Contact No(s)<span class="text-danger">*</span></label></td>
                                            <td>
                                                <input type="text" class="form-control" placeholder="Enter Phone No1.." id="phone2" /><br />
                                            </td>
                                        </tr>
                                        <tr>
                                            <td><label class="badge-light">Alternative Phone No(s)<span class="text-danger">*</span></label></td>
                                            <td>
                                                <input type="text" class="form-control" placeholder="Enter Phone No2.." id="Altphone2" /><br />
                                            </td>

                                        </tr>
                                        <tr>
                                            <td><label class="badge-light">Minimum Balance<span class="text-danger">*</span></label></td>
                                            <td><input type="text" class="form-control" placeholder="Please Enter Balance...." id="Minimumbal2" /></td>
                                        </tr>
                                        <tr>
                                            <td><label class="badge-light">A/C Status<span class="text-danger">*</span></label></td>
                                            <td><input type="text" class="form-control" placeholder="Enter Here...." id="Status2" /></td>
                                        </tr>
                                    </table>
                                </div>

                                <div id="Joint" class="tabcontent">
                                    <table>
                                        <tr>
                                            <td>
                                                <label class="badge-light">Nominee Name<span class="text-danger">*</span></label>
                                            </td>
                                            <td>
                                                <input type="text" class="form-control" placeholder="Enter Name...." id="Nomineename3" />
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>
                                                <label class="badge-light">Relation With Nominee<span class="text-danger">*</span></label>
                                            </td>
                                            <td>
                                                <select class="form-control" id="Nomineerelation3">
                                                    <option value="Wife">Wife</option>
                                                    <option value="Husband">Husband</option>
                                                    <option value="Other">Other</option>
                                                </select>
                                            </td>
                                        <tr>
                                            <td>
                                                <label class="badge-light">Present address<span class="text-danger">*</span></label>
                                            </td>
                                            <td>
                                                <input type="text" class="form-control" placeholder="Enter address1.." id="Nomineeaddress1st3" />
                                            </td>
                                        </tr>
                                        <tr>
                                            <td><input type="text" class="form-control" placeholder="Enter address2.." id="Nomineeaddress2nd3" /></td>
                                            <td><input type="text" class="form-control" placeholder="Enter address3.." id="Nomineeaddress3rd3" /></td>
                                        </tr>
                                        <tr>
                                            <td>
                                                <label class="badge-light">Pin Code<span class="text-danger">*</span></label>
                                            </td>
                                            <td>
                                                <input type="text" class="form-control" placeholder="Enter Area Pin.." id="pincode3" />
                                            </td>
                                        </tr>

                                        <tr>

                                            <td><label class="badge-light">Contact No(s)<span class="text-danger">*</span></label></td>
                                            <td>
                                                <input type="text" class="form-control" placeholder="Enter Phone No1.." id="phone3" /><br />
                                            </td>
                                        </tr>
                                        <tr>
                                            <td><label class="badge-light">Alternative Phone No(s)<span class="text-danger">*</span></label></td>
                                            <td>
                                                <input type="text" class="form-control" placeholder="Enter Your Phone No2.." id="Altphone3" /><br />
                                            </td>

                                        </tr>
                                        <tr>
                                            <td><label class="badge-light">Minimum Balance<span class="text-danger">*</span></label></td>
                                            <td><input type="text" class="form-control" placeholder="Please Enter Balance...." id="Minimumbal3" /></td>
                                        </tr>
                                        <tr>
                                            <td><label class="badge-light">A/C Status<span class="text-danger">*</span></label></td>
                                            <td><input type="text" class="form-control" placeholder="Enter Here...." id="Status3" /></td>
                                            <td hidden> <input type="text" id="id" /></td>
                                        </tr>
                                    </table>
                                </div>

                            </div>

                        </div>
                    </div>
                    <div>
                        @*<button type="submit" clas="btn btn-primary" style="height:45px" id="SaveData" onclick="Add()" value="Save">Save</button>*@
                        <input type="button" onclick="OK()" class="btn btn-success" value="View" style="margin-left:473px;margin-bottom:20px">
                        @*<input type="button" onclick="Approve(2)" class="btn btn-danger " value="Reject" style="margin-right: 400px; margin-bottom: 20px ">*@
                        <input type="text" hidden id="Openingdetails_id" />


                    </div>
                </div>
            </div>
        </div>


    </div>
    <div class="modal fade" role="dialog" aria-labelledby="" aria-hidden="true" id="OpenAC">
        <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
            <div class="modal-content" style="width:980px;height:800px">
                <div class="modal-header">
                    <center>
                        <h5 style="margin-left:300px;color:chartreuse">Approve Form</h5>
                    </center>
                </div>

                <div class="modal-body">
                    <div class="row form-group">
                        <div>
                            <label style="margin-left:40px;">Transaction Date</label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        </div>
                        <div>
                            <input type="datetime-local" class="form-control" id="modaldate" readonly />
                        </div>
                    </div>
                    <div class="row form-group">
                        <div>
                            <label style="margin-left:40px">Voucher No</label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        </div>
                        <div>
                            <input type="text" class="form-control" id="modalVoucherNO" readonly />
                        </div>
                    </div>
                    <div class="row form-group">
                        <div>
                            <label style="margin-left:40px">Account Number</label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        </div>
                        <div>
                            <input type="text" class="form-control" id="modalAccountNO" readonly />
                        </div>
                    </div>
                    <div class="row form-group">
                        <div>
                            <label style="margin-left:40px">Amount</label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        </div>
                        <div>
                            <input type="text" class="form-control" id="modalAmount" readonly />
                        </div>
                    </div>
                    <div class="row form-group">
                        <div>
                            <label style="margin-left:40px">Account Charge</label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        </div>
                        <div>
                            <input type="text" class="form-control" id="modalAccountcharge" />
                        </div>
                    </div>
                    <div class="row">
                        <div>
                            <label style="margin-left: 40px">Type</label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        </div>
                        <div>
                            <select class="form-control" id="Voucher_Type" onchange="show()">
                                <option value="Cash">Cash</option>
                                <option value="Transfer">Transfer</option>
                                @*<option value="Cheque">Cheque</option>*@
                            </select>
                        </div>
                    </div>

                    <div class="row" id="Trans_table" style="display:none">

                        <div>
                            <label style="margin-left:40px">List Of Bank</label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        </div>
                        <div>
                            <table id="tblcollect_amt_frombank" style="width:10px">
                                <tr>
                                    <td>From</td>
                                    <td>GL_Code</td>
                                    <td>Amount</td>

                                    <td><button class="btn btn-md btn-primary pull-right" id="addBtn" type="button"> Add </button></td>

                                </tr>

                                <tbody id="tbody"></tbody>
                            </table>

                        </div>





                    </div>

                    <div class="row" style="margin-top:50px">
                        <div>
                            <label style="margin-left: 40px">Narration</label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        </div>
                        <div>
                            <textarea class="form-control" id="Particular"></textarea>
                        </div>
                    </div>
                </div>

                <div class="modal-footer" style="margin-bottom:50px">

                    <button type="button" id="btn1" style="margin-right:10px" class="btn btn-success btn-sm No hbtn" data-dismiss="modal" onclick="Approve(1)">Approve</button>
                    <button type="button" id="btn2" style="margin-right:300px" class="btn btn-danger btn-sm No hbtn" data-dismiss="modal" @*aria-label="Close"*@ onclick="Approve(2)">Reject</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" role="dialog" aria-labelledby="" aria-hidden="true" id="SuccessModel">
        <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
            <div class="modal-content" style="width:980px;height:600px">
                <div class="modal-header">
                    <center>
                        <h5 style="margin-left: 300px; color: chartreuse">Approve Succcessful</h5>
                    </center>
                </div>

                <div class="modal-body">
                    <div class="row form-group">
                        <div>
                            <label style="margin-left:40px;">Transaction Date</label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        </div>
                        <div>
                            <input type="datetime-local" class="form-control" id="modaldatee" readonly />
                        </div>
                    </div>
                    <div class="row form-group">
                        <div>
                            <label style="margin-left:40px">Branch Name</label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        </div>
                        <div>
                            <input type="text" class="form-control" placeholder="0" id="modalbranchname" readonly />
                        </div>
                    </div>
                    <div class="row form-group">
                        <div>
                            <label style="margin-left:40px">Voucher No</label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        </div>
                        <div>
                            <input type="text" class="form-control" id="modalVoucherNOOO" readonly />
                        </div>
                    </div>
                    <div class="row form-group">
                        <div>
                            <label style="margin-left:40px">Account Number</label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        </div>
                        <div>
                            <input type="text" class="form-control" id="modalAccountNOO" readonly />
                        </div>
                    </div>
                    <div class="row form-group">
                        <div>
                            <label style="margin-left:40px">Customer Name</label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        </div>
                        <div>
                            <input type="text" class="form-control" id="custname" readonly />
                        </div>
                    </div>
                    <div class="row form-group">
                        <div>
                            <label style="margin-left:40px">Amount</label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        </div>
                        <div>
                            <input type="text" class="form-control" id="modalAmountt" readonly />
                        </div>
                    </div>

                </div>
                <div class="modal-footer" style="margin-bottom:50px">

                    <a href="/AccountOpening/ViewPendingCustomer" style="margin-right:400px;height:40px;width:80px" class="btn btn-danger btn-sm No hbtn" title="" data-original-title="Edit">OK@*<i class="icon-edit1"></i>*@</a>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="SuccessModell" tabindex="1" role="dialog"
         aria-labelledby="exampleModalLabel" aria-hidden="true" data-backdrop="static" data-keyboard="false">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-body">
                    <center><h3 class="modalMsgg ">Approve Succcessful</h3></center>
                </div>
                <div class="modal-footer">
                    <a href="/AccountOpening/ViewPendingCustomer" class=" mr-3 btn btn-outline-success" title="" data-original-title="Edit">OK@*<i class="icon-edit1"></i>*@</a>

                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="UnSuccessModel" tabindex="1" role="dialog"
         aria-labelledby="exampleModalLabel" aria-hidden="true" data-backdrop="static" data-keyboard="false">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-body">
                    <center><h3 class="modalMsgg ">Reject Succcessful</h3></center>
                </div>
                <div class="modal-footer">
                    <a href="/AccountOpening/ViewPendingCustomer" class=" mr-3 btn btn-outline-success" style="align-content:center" title="" data-original-title="Edit">OK@*<i class="icon-edit1"></i>*@</a>

                </div>
            </div>
        </div>
    </div>



    <script>


        $(document).ready(function () {

            var id = getUrlVars()["id"];
            var Accountopeningid = getUrlVars()["Accountopeningid"];
            var AcType = getUrlVars()["AcType"];
            var CustCod = getUrlVars()["CustCode"];
            if (CustCod != undefined) {
                $("#btnSubmit").html("Update");
                $("#btnCancel").val("Cancel");

                BindPreDetail(id, AcType, CustCod);
            }
            else {
                BindDetail(id)

                $('#intrest').attr('readonly', true);//OpeningDATE,Minimum_Balance
                $("#Modeofoperation").prop("disabled", true);
                $('#Opening_Balance').attr('readonly', true);
                $('#OpeningDATE').attr('readonly', true);
                $('#Minimum_Balance').attr('readonly', true);
                $("#Nomineerelation1").prop("disabled", true);
                $('#Nomineename1').attr('readonly', true);
                $('#Nomineeaddress1st1').attr('readonly', true);
                $('#Nomineeaddress2nd1').attr('readonly', true);
                $('#Nomineeaddress3rd1').attr('readonly', true);
                $('#pincode1').attr('readonly', true);
                $('#phone1').attr('readonly', true);
                $('#Altphone1').attr('readonly', true);
                $('#Minimumbal1').attr('readonly', true);
                $('#Presentaddress').attr('readonly', true);
                $('#Status1').attr('readonly', true);
                $('#SaveData').hide();
                $('#reset').hide();
                $('#Permanentaddress').attr('readonly', true);

            }
            if (AcType != "Share_Cap") {
                $('#Facevalue').attr('readonly', true);
                $('#Facevalue').val("0");
                $('#NoUnint').attr('readonly', true);
                $('#NoUnint').val("0");
                $('#Enterancefee').attr('readonly', true);
                $('#Enterancefee').val("0");
                $('#IntroducerPresentaddress').attr('readonly', true);
                $('#IntroducerPresentaddress').val("0");


                BindShearDetails(CustCod);


            }
        });
        function show() {
            if (headofaccount != "Loan") {
                if ($("#Voucher_Type").val() == 'Transfer')
                    $("#Trans_table").show();
                else {
                    $("#Trans_table").hide();
                }

            }

        }
        var rowIdx = "";
        $('#addBtn').on('click', function () {
            if ($("#tblcollect_amt_frombank").find("tr").length == 6) {
                alert("Maximun from 5 Bank You Can Transfer Money");
                return
            }
            /* Adding a row inside the tbody.<input  class="abcd" id="txtBankName">*/
            $('#tbody').append(`<tr id="R${++rowIdx}">
                                                                         <td class="row-index text-center">
                                                                           <input id="txtMedicineName" class="inputs">
                                                                         </td>
                                                                         <td class="row-index text-center">
                                                                           <input id="txtPrice" type="text" maxlength = "100" size = "10"class=" m-input" readonly>
                                                                        </td>
                                                                        <td class="row-index text-center">
                                                                           <input  class="m-input" type="number">
                                                                        </td>
                                                                        <td class="text-center" colspan="2">
                                                                            <button class="btn btn-danger remove"
                                                                              type="button">Remove</button>
                                                                        </td>
                                                                          </tr>`
            );
        });

        $(document).on('keypress', '.inputs', function () {


            $('#tblcollect_amt_frombank tbody tr').each(function (index) {
                var row = this;
                $(this).find("td").eq(0).find("#txtMedicineName").autocomplete({
                    source: function (request, response) {
                        $.ajax({
                            url: '/AccountOpening/AutoComplete/',
                            data: { "prefix": request.term },
                            type: "POST",
                            success: function (data) {
                                response($.map(data, function (item) {
                                    return item;
                                }))
                            },
                            error: function (response) {
                                alert(response.responseText);
                            },
                            failure: function (response) {
                                alert(response.responseText);
                            }
                        });
                    },
                    //select: function (e, i) {
                    //    $(row).find('td').find("#hdnMedicineId").val(i.item.val);
                    //},
                    minLength: 1
                });
            });
        });

        $(document).on('change', '.inputs', function () {
            $('#tblcollect_amt_frombank tbody tr').each(function (index) {
                var row = this;
                $(this).find("td").eq(0).find("#txtMedicineName").blur(function () {
                    debugger
                    $.ajax({
                        url: "/AccountOpening/GetGLcodeByGLName?BankNAme=" + $(row).find('td').find("#txtMedicineName").val(),
                        type: "GET",
                        success: function (result) {
                            debugger
                            data = JSON.parse(result);
                            //alert(result);
                            $(row).find('td').next('td').find("#txtPrice").val(data);
                        },
                        error: function (error) {
                            jsonValue = jQuery.parseJSON(error.responseText);
                            alert("Error : " + jsonValue);
                        }
                    });
                });
            });
        });

        var status;
        function OK() {
            //var printButton4 = document.getElementById("");
            //$('#mainmenu').hide();
            $("#modaldate").val(dat);
            $("#modalVoucherNO").val(Voucher_No);
            $("#modalAccountNO").val(modalAccountNO);
            $("#modalAmount").val(modalAmount);
            if (headofaccount == "Loan") {
                $("#modalAccountcharge").val(100);
            }
            else
                $("#modalAccountcharge").val(modalAccountcharge);
            $('.modalMsg').text('Are you Want To Open Account ?');
            $('.submitConfirm').css('display', 'block');
            $('#OpenAC').modal("show");
        }
        function Approve(id) {

            var Items = []; //array declaring to store the records to send it to controller
            var entity = {};

            var tbl = document.getElementById('tbody');
            for (var i = 0; i < tbl.rows.length; i++) {
                var item1 = {};

                item1.From = tbl.rows[i].children[0].children[0].value;
                item1.Amount = tbl.rows[i].children[2].children[0].value;
                Items.push(item1);
            }
            debugger

            var tbl1 = document.getElementById('tbody');
            for (var i = 0; i < tbl1.rows.length; i++) {
                if (tbl1.rows[i].children[1].children[0].value == "") {
                    bootbox.alert("Invalid Bank");
                    return false;

                }

            }

            var tbl2 = document.getElementById('tbody');
            for (var i = 0; i < tbl2.rows.length; i++) {
                if (tbl2.rows[i].children[2].children[0].value == "") {
                    $('#OpenAC').modal("hide");
                    bootbox.alert("Enter Amount");
                    $('#OpenAC').modal("show");
                    return false;
                }
            }
            if ($('#Particular').val() == "") {
                bootbox.alert("Please Enter Narration");
                return false;
            }


            entity.id = $('#Openingdetails_id').val();
            entity.Status = id;
            entity.HeadOfAccount = $('#HeadOfAccount').val();
            entity.Trans_Date = $('#modaldate').val();
            entity.Particular = $('#Particular').val();
            entity.Voucher_Type = $('#Voucher_Type').val();
            entity.CollectionBank = Items;
            $('#OpenAC').modal("hide");
            $.ajax({
                url: "/AccountOpening/ApprovedCustomerAccount",
                data: entity,
                type: "POST",
                success: function (result) {

                    if (result > 20) {
                        $('#OpenAC').modal("hide");
                        $.ajax({
                            url: "/AccountOpening/get_last_tblvoucherrecord",
                            typr: "GET",
                            contentType: "application/json;charset=UTF-8",
                            dataType: "json",
                            success: function (result) {
                                $("#modaldatee").val(dat);
                                $("#modalVoucherNOOO").val(result.Result.Voucher_No);
                                $("#modalAmountt").val(result.Result.Amount);
                                $("#modalAccountNOO").val(modalAccountNO);
                                $("#modalbranchname").val(result.Result.Branch_Name); //
                                $("#custname").val(custname);


                            },
                            error: function (errormessage) {
                                alert(errormessage.responseText);
                            }
                        });
                        $('#SuccessModel').modal("show");

                    }
                    else {
                        $('#UnSuccessModel').modal("show");
                    }

                },
                error: function (errormessage) {
                    alert("error");
                }
            });
        }


        var dat;
        var Voucher_No;
        var modalAccountNO;
        var modalAmount;
        var modalAccountcharge;
        var headofaccount;



        function BindShearDetails(CustCod) {

            $.ajax({
                url: "/AccountOpening/BindShearDetails?id=" + CustCod,
                typr: "GET",
                contentType: "application/json;charset=UTF-8",
                dataType: "json",
                success: function (result) {
                    if (result.Result == null) {
                        $('#Facevalue').val(0);
                        $('#NoUnint').val(0);
                        $('#Enterancefee').val(0);
                        $('#IntroducerPresentaddress').val("NA");

                    }
                    else {
                        $('#Facevalue').val(result.Result.Facevalue);
                        $('#NoUnint').val(result.Result.NoUnint);
                        $('#Enterancefee').val(result.Result.Enterancefee);
                        $('#IntroducerPresentaddress').val(result.Result.IntroducerPresentaddress);

                    }

                },
                error: function (errormessage) {
                    alert(errormessage.responseText);
                }
            });
        }
        function BindPreDetail(DepartmentId, AcType, CustCod) {
            debugger
            $.ajax({
                url: "/Custmer/GetByIdCustomer?id=" + CustCod,
                typr: "GET",
                contentType: "application/json;charset=UTF-8",
                dataType: "json",
                success: function (result) {
                    $("#customername").val(result.CUSTOMER_NAME);
                    custname = result.CUSTOMER_NAME;
                    $('#HeadOfAccount').val(AcType);
                    $("#Customer_Code").val(result.Customer_Code);

                    if (result.CUR_ADDRESS_1 == null)
                        $('#Permanentaddress').val('NA');
                    else
                        $('#Permanentaddress').val(result.CUR_ADDRESS_1);



                    $("#Presentaddress").val(result.PER_ADDRESS_1);
                    $("#Sex").val(result.SEX);
                    $("#Caste").val(result.CASTE);
                    $("#Accountno").val("00" + result.NewAccountNo);
                    $("#Certificateno").val("00" + result.NewAccountNo);
                    $("#Seniorcitizen").val(result.SENIOR_CITIZEN);
                    $("#staff").val(result.IS_STAFF);


                },
                error: function (errormessage) {
                    alert(errormessage.responseText);
                }
            });
        }

        function BindDetail(Accountopeningid) {
            $("#id").val(Accountopeningid);
            $.ajax({
                url: "/AccountOpening/ViewAccountDetailsById?id=" + Accountopeningid,
                typr: "GET",
                contentType: "application/json;charset=UTF-8",
                dataType: "json",
                success: function (result) {
                    $("#Openingdetails_id").val(result.Result.Openingdetails_id);
                    $("#customername").val(result.Result.customername);
                    custname = result.Result.customername;
                    $('#HeadOfAccount').val(result.Result.HeadOfAccount);
                    $("#Customer_Code").val(result.Result.Customer_Code);
                    $('#Permanentaddress').val(result.Result.Permanentaddress);
                    $("#Presentaddress").val(result.Result.Presentaddress);
                    $("#Sex").val(result.Result.Sex);
                    $("#Caste").val(result.Result.Caste);
                    $("#Accountno").val("00" + result.Result.Accountno);
                    $("#Certificateno").val("00" + result.Result.Certificateno);
                    $("#Seniorcitizen").val(result.Result.Seniorcitizen);
                    $("#staff").val(result.Result.staff);
                    $("#Opening_Balance").val(result.Result.Opening_Balance);
                    $("#Minimum_Balance").val(result.Result.Minimum_Balance);//to Date

                    if (result.Result.Currentbal.split(' ')[1] == "Loan")
                        $("#bal").html("Loan Type");
                    $("#intrest").val(result.Result.Currentbal);
                    $("#Modeofoperation").val(result.Result.Modeofoperation);
                    $("#Facevalue").val(result.Result.Facevalue);
                    $("#NoUnint").val(result.Result.NoUnint);
                    $("#Enterancefee").val(result.Result.Enterancefee);
                    $("#phone1").val(result.Result.phone1);

                    $("#OpeningDATE").val(result.Result.OpeningDATE.split('T')[0]);

                    $("#IntroducerPresentaddress").val(result.Result.IntroducerPresentaddress);
                    $("#Nomineename1").val(result.Result.Nomineename1);
                    $("#Nomineeaddress1st1").val(result.Result.Nomineeaddress1st1);
                    $("#Nomineeaddress2nd1").val(result.Result.Nomineeaddress2nd1);
                    dat = result.Result.OpeningDATE;
                    Voucher_No = result.Result.Voucher_No;
                    modalAccountNO = "00" + result.Result.Accountno;
                    if (result.Result.HeadOfAccount == "Fixed") {
                        modalAmount = result.Result.Opening_Balance;
                    }
                    else {
                        modalAmount = result.Result.Minimum_Balance;
                    }

                    modalAccountcharge = result.Result.Enterancefee;
                    $("#Nomineeaddress3rd1").val(result.Result.Nomineeaddress3rd1);
                    $("#pincode1").val(result.Result.pincode1);
                    $("#Altphone1").val(result.Result.Altphone1);
                    $("#Minimumbal1").val(result.Result.Minimumbal1);
                    $("#Status1").val(result.Result.Status1);


                },
                error: function (errormessage) {
                    alert(errormessage.responseText);
                }
            });
        }

    </script>


    <script>
        function openCity(evt, cityName) {
            var i, tabcontent, tablinks;
            tabcontent = document.getElementsByClassName("tabcontent");
            for (i = 0; i < tabcontent.length; i++) {
                tabcontent[i].style.display = "none";
            }
            tablinks = document.getElementsByClassName("tablinks");
            for (i = 0; i < tablinks.length; i++) {
                tablinks[i].className = tablinks[i].className.replace(" active", "");
            }
            document.getElementById(cityName).style.display = "block";
            evt.currentTarget.className += " active";
        }
        $('#tbody').on('click', '.remove', function () {

            // Getting all the rows next to the row
            // containing the clicked button
            var child = $(this).closest('tr').nextAll();

            // Iterating across all the rows
            // obtained to change the index
            child.each(function () {

                // Getting <tr> id.
                var id = $(this).attr('id');

                // Getting the <p> inside the .row-index class.
                var idx = $(this).children('.row-index').children('p');

                // Gets the row number from <tr> id.
                var dig = parseInt(id.substring(1));

                // Modifying row index.
                idx.html(`Row ${dig - 1}`);

                // Modifying row id.
                $(this).attr('id', `R${dig - 1}`);
            });

            // Removing the current row.
            $(this).closest('tr').remove();

            // Decreasing total number of rows by 1.
            rowIdx--;
        });
    </script>
</body>

<script src="~/js/accountopeningvalidation.js"></script>



